const hmr = require('node-hmr');
const fs = require('fs');
const path = require('path');

const candles = JSON.parse(fs.readFileSync('../TinkoffTradingBot/data/cachedcandles/FUTMGNT06220/1/1651802400000-1651859999999.json'));

const orderbook = { depth: 50, isConsistent: true, bids: [{ price: { units: 4630, nano: 0 }, quantity: 19 }, { price: { units: 4628, nano: 0 }, quantity: 5 }, { price: { units: 4627, nano: 0 }, quantity: 20 }, { price: { units: 4626, nano: 0 }, quantity: 1 }, { price: { units: 4625, nano: 0 }, quantity: 3 }, { price: { units: 4624, nano: 0 }, quantity: 2 }, { price: { units: 4620, nano: 0 }, quantity: 25 }, { price: { units: 4614, nano: 0 }, quantity: 3 }, { price: { units: 4610, nano: 0 }, quantity: 1 }, { price: { units: 4604, nano: 0 }, quantity: 18 }, { price: { units: 4603, nano: 0 }, quantity: 13 }, { price: { units: 4600, nano: 0 }, quantity: 1 }, { price: { units: 4598, nano: 0 }, quantity: 1 }, { price: { units: 4596, nano: 0 }, quantity: 1 }, { price: { units: 4590, nano: 0 }, quantity: 30 }, { price: { units: 4589, nano: 0 }, quantity: 2 }, { price: { units: 4582, nano: 0 }, quantity: 6 }, { price: { units: 4580, nano: 0 }, quantity: 3 }, { price: { units: 4579, nano: 0 }, quantity: 30 }, { price: { units: 4578, nano: 0 }, quantity: 1 }, { price: { units: 4575, nano: 0 }, quantity: 62 }, { price: { units: 4572, nano: 0 }, quantity: 14 }, { price: { units: 4570, nano: 0 }, quantity: 4 }, { price: { units: 4568, nano: 0 }, quantity: 21 }, { price: { units: 4565, nano: 0 }, quantity: 160 }, { price: { units: 4564, nano: 0 }, quantity: 98 }, { price: { units: 4561, nano: 0 }, quantity: 12 }, { price: { units: 4560, nano: 0 }, quantity: 53 }, { price: { units: 4555, nano: 0 }, quantity: 10 }, { price: { units: 4554, nano: 0 }, quantity: 10 }, { price: { units: 4552, nano: 0 }, quantity: 2 }, { price: { units: 4551, nano: 0 }, quantity: 3 }, { price: { units: 4550, nano: 0 }, quantity: 8 }, { price: { units: 4549, nano: 0 }, quantity: 10 }, { price: { units: 4548, nano: 0 }, quantity: 18 }, { price: { units: 4546, nano: 0 }, quantity: 10 }, { price: { units: 4545, nano: 0 }, quantity: 50 }, { price: { units: 4543, nano: 0 }, quantity: 1 }, { price: { units: 4542, nano: 0 }, quantity: 10 }, { price: { units: 4540, nano: 0 }, quantity: 1 }, { price: { units: 4535, nano: 0 }, quantity: 69 }, { price: { units: 4534, nano: 0 }, quantity: 62 }, { price: { units: 4533, nano: 0 }, quantity: 59 }, { price: { units: 4532, nano: 0 }, quantity: 18 }, { price: { units: 4531, nano: 0 }, quantity: 3 }, { price: { units: 4530, nano: 0 }, quantity: 1 }, { price: { units: 4529, nano: 0 }, quantity: 1 }, { price: { units: 4528, nano: 0 }, quantity: 10 }, { price: { units: 4526, nano: 0 }, quantity: 4 }, { price: { units: 4525, nano: 0 }, quantity: 6 }], asks: [{ price: { units: 4633, nano: 0 }, quantity: 24 }, { price: { units: 4637, nano: 0 }, quantity: 4 }, { price: { units: 4643, nano: 0 }, quantity: 1 }, { price: { units: 4644, nano: 0 }, quantity: 2 }, { price: { units: 4645, nano: 0 }, quantity: 12 }, { price: { units: 4650, nano: 0 }, quantity: 16 }, { price: { units: 4655, nano: 0 }, quantity: 1 }, { price: { units: 4656, nano: 0 }, quantity: 2 }, { price: { units: 4660, nano: 0 }, quantity: 1 }, { price: { units: 4662, nano: 0 }, quantity: 3 }, { price: { units: 4665, nano: 0 }, quantity: 1 }, { price: { units: 4666, nano: 0 }, quantity: 1 }, { price: { units: 4667, nano: 0 }, quantity: 10 }, { price: { units: 4669, nano: 0 }, quantity: 112 }, { price: { units: 4670, nano: 0 }, quantity: 120 }, { price: { units: 4672, nano: 0 }, quantity: 26 }, { price: { units: 4673, nano: 0 }, quantity: 78 }, { price: { units: 4675, nano: 0 }, quantity: 16 }, { price: { units: 4679, nano: 0 }, quantity: 31 }, { price: { units: 4680, nano: 0 }, quantity: 12 }, { price: { units: 4682, nano: 0 }, quantity: 20 }, { price: { units: 4685, nano: 0 }, quantity: 2 }, { price: { units: 4690, nano: 0 }, quantity: 1 }, { price: { units: 4691, nano: 0 }, quantity: 55 }, { price: { units: 4695, nano: 0 }, quantity: 1 }, { price: { units: 4700, nano: 0 }, quantity: 66 }, { price: { units: 4701, nano: 0 }, quantity: 24 }, { price: { units: 4702, nano: 0 }, quantity: 66 }, { price: { units: 4703, nano: 0 }, quantity: 10 }, { price: { units: 4705, nano: 0 }, quantity: 2 }, { price: { units: 4707, nano: 0 }, quantity: 1 }, { price: { units: 4710, nano: 0 }, quantity: 3 }, { price: { units: 4712, nano: 0 }, quantity: 3 }, { price: { units: 4715, nano: 0 }, quantity: 31 }, { price: { units: 4716, nano: 0 }, quantity: 24 }, { price: { units: 4720, nano: 0 }, quantity: 1 }, { price: { units: 4724, nano: 0 }, quantity: 2 }, { price: { units: 4725, nano: 0 }, quantity: 44 }, { price: { units: 4726, nano: 0 }, quantity: 21 }, { price: { units: 4727, nano: 0 }, quantity: 36 }, { price: { units: 4730, nano: 0 }, quantity: 27 }, { price: { units: 4731, nano: 0 }, quantity: 1 }, { price: { units: 4733, nano: 0 }, quantity: 2 }, { price: { units: 4735, nano: 0 }, quantity: 1 }, { price: { units: 4736, nano: 0 }, quantity: 2 }, { price: { units: 4737, nano: 0 }, quantity: 18 }, { price: { units: 4738, nano: 0 }, quantity: 51 }, { price: { units: 4739, nano: 0 }, quantity: 25 }, { price: { units: 4740, nano: 0 }, quantity: 1 }, { price: { units: 4745, nano: 0 }, quantity: 1 }], time: 1651837020000, limitUp: { units: 5591, nano: 0 }, limitDown: { units: 3667, nano: 0 } }; // eslint-disable-line max-len

const { bots } = require('./src/main');

const bot = new bots.RandomExample();

bot.setCurrentState(0, candles, 0, {}, orderbook);
bot.start();

setTimeout(() => { bot.stop() }, 3000);
